<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>AcceptOn DynamicKit Complete API Reference</title>

    <link href="../stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <link href="../stylesheets/custom_screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../stylesheets/color_schemes.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../stylesheets/icons.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../stylesheets/buttons.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../stylesheets/attributes.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../stylesheets/contextual.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../stylesheets/custom_print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="../javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell","ruby","python","php"]);
        });
      </script>
  </head>

  <body class="guides guides_dynamic_kit_full_api">

      <!-- Top bar mimicking AcceptOn website -->
      <div id="top-menu">
        <a href='https://accepton.com'>
          <div class='logo'> <span class='helper'></span>
            <img src="../images/logo.png" />
          </div>
        </a>

        <div class='title'>
          <h1>Documentation Center</h1>
        </div>

        <div id='back-to-dash'>
          <a href='https://accepton.com/admin/dashboard'>
            <i class='back-arrow-icon'></i>
            Return to Admin Dashboard
          </a>
        </div>
      </div>

    <div id="all-content">
      <!-- Breadcrum -->
        <div id='breadcrums'>
              <a href='/'>Documentation Overview</a>
              <p><span class='carrot'>></span> DynamicKit Complete API Reference</p>
        </div>

      <a href="#" id="nav-button">
        <span>
          NAV
          <img src="../images/navbar.png" />
        </span>
      </a>

      <!-- Table of contents -->
      <div class="tocify-wrapper">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a> 
                <a href="#" data-language-name="ruby">ruby</a> 
                <a href="#" data-language-name="python">python</a> 
                <a href="#" data-language-name="php">php</a> 
          </div>
          <div class="search">
            <input type="text" class="search" id="input-search" placeholder="Search">
          </div>
          <ul class="search-results"></ul>
        <div id="toc">
        </div>
          <div class='toc-footer-container'>
            <h2>Related Articles</h2>
            <ul class="toc-footer">
                <li><a href='dynamic_kit.html'>DynamicKit Getting Started Guide</a></li>
            </ul>
          </div>
      </div>
      <div class="page-wrapper">
        <div class="dark-box"></div>
        <div id='fixed-above-content'>
          <div class='pseudo-vanish'></div>
          <div class='bar'></div>
        </div>
        <div class="content">
          <div class='hidden-attr'></div>

<h1 id="introduction">Introduction</h1>

<div class='full-banner-attr'></div>

<p><img alt="Complete API Reference" src="../images/complete_api_reference.png" /></p>

<p>Welcome to the DynamicKit Complete API reference. This is intended for advanced users.* All
responses from our API should be returned in <a href="http://www.json.org">JSON</a> format.</p>

<h3 id="looking-for-the-getting-started-guide?">Looking for the getting started guide?</h3>

<table>
<tr style='border-bottom-color: rgba(0, 0, 0, 0);'>
<td style='width: 100px;'>
<img src='../images/code.png' />
</td>

<td>
To view the <em>DynamicKit Getting Started Guide</em> which provides examples, see:
<a href='dynamic_kit.html' class='btn'></i>DynamicKit Getting Started Guide</a>
</td>
</tr>
</table>

<h1 id="environments">Environments</h1>

<h3 id="staging-vs.-production">Staging vs. Production</h3>

<p>In order to allow for testing, the AcceptOn API is available in the following
locations:</p>

<ul>
<li>Staging: https://staging-checkout.accepton.com</li>
<li>Production: https://checkout.accepton.com</li>
</ul>

<p>The staging environment should be used for testing. Please keep in mind that
the data can be deleted at any time.</p>

<h3 id="staging-credentials-have-limitations">Staging credentials have limitations</h3>

<p>Your staging credentials do not work in the production environment
and vice versa. Thus, in order to test, you will need to create an account in
staging and then create an account in production when you&rsquo;re ready to deploy.</p>

<p>To actually process payments, the production environment must be used. To
switch to production, simply update the URL and corresponding API key, and if
the moon is in the right (meaning both correct and directional) quadrant of the
sky, it should &ldquo;Just Work&rdquo;!</p>

<h1 id="getting-started">Getting Started</h1>

<h3 id="first,-you&#39;ll-need-to-create-an-account-and-retrieve-your-api-credentials:">First, you&rsquo;ll need to create an account and retrieve your API credentials:</h3>

<ol>
<li>If you haven&rsquo;t done so already, please create an account in the staging environment
<a href="https://staging.accepton.com/sign_up">https://staging.accepton.com/sign_up</a></li>
<li>Link a payment processor such as Stripe or PayPal</li>
<li>Retrieve your API key here: <a href="https://staging.accepton.com/admin/user/profile">https://staging.accepton.com/admin/user/profile</a></li>
</ol>

<h3 id="next,-create-a-payment-form-that-you&#39;ll-use-to-collect-payment:">Next, create a payment form that you&rsquo;ll use to collect payment:</h3>

<ol>
<li>Click &ldquo;Create a Form&rdquo; in the bottom left area of the navigation</li>
<li>Copy and paste the generated code to your site</li>
</ol>

<h3 id="then,-make-your-first-transaction-using-the-form:">Then, make your first transaction using the form:</h3>

<ol>
<li>Generate a <a href="#create-a-transaction-token">transaction token</a></li>
<li>Pass the id attribute of the response (aka the token) into the configuration
of the AcceptOn form</li>
<li>Profit!</li>
</ol>

<h1 id="authentication">Authentication</h1>

<p>AcceptOn requires an API key to gain access to, well, the actual API. After
logging into accepton.com, you&rsquo;ll find your API key by clicking your email
address in the top right, My Profile, and then use the Secret key found under
the section entitled &ldquo;API keys&rdquo;.</p>

<p>AcceptOn expects for this super secret API key to be included in all API
requests found in a header that looks like the following:</p>

<p><code class="prettyprint">Authorization: Bearer &lt;API KEY&gt;</code></p>

<p>For the work efficient types (aka lazy), you can also append your API key as
a parameter named access_token to any request if modifying headers isn&rsquo;t your
thing.</p>

<h3 id="sample-request">Sample Request</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://staging-checkout.accepton.com/ping"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer &lt;API KEY&gt;"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'accepton'</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">AcceptOn</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">api_key: </span><span class="no">API_KEY</span><span class="p">,</span> <span class="ss">environment: :staging</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">from</span> <span class="nn">accepton</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">API_KEY</span><span class="p">,</span> <span class="n">environment</span><span class="o">=</span><span class="s">'staging'</span><span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="cm">/*
 * With service discovery
 * See: https://github.com/accepton/accepton-php#getting-started
 */</span>

<span class="k">use</span> <span class="nx">AcceptOn\Client</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">Client</span><span class="o">.</span><span class="k">new</span><span class="p">(</span><span class="nx">API_KEY</span><span class="p">,</span> <span class="s2">"staging"</span><span class="p">);</span>

<span class="cm">/* Without service discovery */</span>

<span class="k">use</span> <span class="nx">AcceptOn\Client</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">Client</span><span class="o">.</span><span class="k">new</span><span class="p">(</span><span class="nx">API_KEY</span><span class="p">,</span> <span class="s2">"staging"</span><span class="p">);</span>
<span class="nv">$client</span><span class="o">-&gt;</span><span class="na">setHttpClient</span><span class="p">(</span><span class="nx">YOUR_HTTP_CLIENT</span><span class="p">);</span>
<span class="nv">$client</span><span class="o">-&gt;</span><span class="na">setMessageFactory</span><span class="p">(</span><span class="nx">YOUR_MESSAGE_FACTORY</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<aside class="notice">
  Remember, you must replace &lt;API KEY&gt; with your unique Secret API key.
</aside>

<h1 id="transaction-tokens">Transaction Tokens</h1>

<p>A transaction token is used to allow for details such as the amount to charge,
the currency, and application fee to be created dynamically from a trusted
source. This is to ensure that no one has tampered with your transaction prior
to the charge being completed.</p>

<p>This can either be done one time using the &ldquo;Create a Form&rdquo; link after signing
in to https://staging.accepton.com. This is useful for creating a form
with a fixed price.</p>

<p>Alternatively, these tokens can be generated programmatically to support
dynamic pricing using an API client. For instance, this allows for the price
and relevant options to be delayed until the end of the checkout process.</p>

<div class='api'></div>

<h3 id="transaction-token-object">Transaction Token Object</h3>

<div class='object-desc-attr'></div>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>id</strong> <br> <em>string</em></td>
<td>A unique id.</td>
</tr>
<tr>
<td><strong>type</strong> <br> <em>string</em></td>
<td>Always &ldquo;transaction&rdquo;.</td>
</tr>
<tr>
<td><strong>created</strong> <br> <em>string</em></td>
<td>When the token was created, in <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> format.</td>
</tr>
<tr>
<td><strong>amount</strong> <br> <em>integer</em></td>
<td>The amount in cents of the transaction.</td>
</tr>
<tr>
<td><strong>application_fee</strong> <br> <em>integer</em></td>
<td>The application fee in cents to be passed on to the processor. For use only by <a href="applications.html">Applications</a>.</td>
</tr>
<tr>
<td><strong>currency</strong> <br> <em>string</em></td>
<td>The currency to charge in <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO 4217</a> format (default: usd).</td>
</tr>
<tr>
<td><strong>description</strong> <br> <em>string</em></td>
<td>A description of the transaction for your own identification purposes. It could be used to include a name of the item purchased, a confirmation number, or any other identifier you want to use.</td>
</tr>
</tbody></table>

<div class='api-attr'></div> 

<h2 id="create-a-transaction-token">Create a Transaction Token</h2>

<h3 id="sample-request">Sample Request</h3>
<pre class="highlight shell"><code>curl https://staging-checkout.accepton.com/v1/tokens <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer &lt;API KEY&gt;"</span> <span class="se">\</span>
  -d <span class="nv">amount</span><span class="o">=</span>1000 <span class="se">\</span>
  -d <span class="nv">description</span><span class="o">=</span><span class="s2">"Hipster Flannel Tshirt"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'accepton'</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">AcceptOn</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">api_key: </span><span class="no">API_KEY</span><span class="p">,</span> <span class="ss">environment: :staging</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">create_token</span><span class="p">(</span><span class="ss">amount: </span><span class="mi">10_00</span><span class="p">,</span> <span class="ss">description: </span><span class="s2">"Hipster Flannel Tshirt"</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">from</span> <span class="nn">accepton</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">API_KEY</span><span class="p">,</span> <span class="n">environment</span><span class="o">=</span><span class="s">'staging'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">create_token</span><span class="p">(</span><span class="n">amount</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">currency</span><span class="o">=</span><span class="s">'usd'</span><span class="p">,</span>
                               <span class="n">description</span><span class="o">=</span><span class="s">'Hipster Flannel Tshirt'</span><span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">AcceptOn\Client</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">Client</span><span class="o">.</span><span class="k">new</span><span class="p">(</span><span class="nx">API_KEY</span><span class="p">,</span> <span class="s2">"staging"</span><span class="p">);</span>

<span class="nv">$params</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
 <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span>
 <span class="s2">"description"</span> <span class="o">=&gt;</span> <span class="s2">"Hipster Flannel Tshirt"</span>
<span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">createToken</span><span class="p">(</span><span class="nv">$params</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<h3 id="sample-response">Sample Response</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"txn_643f20df91f94ff3b6cd614b63228419"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created"</span><span class="p">:</span><span class="s2">"2015-01-16T20:08:17.837Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"application_fee"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Hipster Flannel Tshirt"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="arguments">Arguments</h3>

<div class='object-desc-attr'></div>

<table><thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>amount</strong> <br> <em>integer</em></td>
<td>The amount in cents of the transaction.</td>
</tr>
<tr>
<td><strong>application_fee</strong> <br> <em>integer</em></td>
<td>The application fee in cents to be passed on to the processor. For use only by <a href="applications.html">Applications</a>.</td>
</tr>
<tr>
<td><strong>currency</strong> <br> <em>string</em></td>
<td>The currency to charge in <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO 4217</a> format (default: usd).</td>
</tr>
<tr>
<td><strong>description</strong> <br> <em>string</em></td>
<td>A description of the transaction for your own identification purposes. It could be used to include a name of the item purchased, a confirmation number, or any other identifier you want to use.</td>
</tr>
<tr>
<td><strong>merchant_paypal_account</strong> <br> <em>string, optional</em></td>
<td>The merchant&rsquo;s Paypal account when you want to pay a merchant instead of yourself. Can be used with an application fee.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>A transaction token object.</p>

<div class='api-attr'></div>

<h2 id="retrieve-a-transaction-token">Retrieve a Transaction Token</h2>

<p>Used to retrieve the details of a transaction token that has previously been
created.</p>

<h3 id="sample-request">Sample Request</h3>
<pre class="highlight shell"><code>curl https://staging-checkout.accepton.com/v1/tokens/txn_643f20df91f94ff3b6cd614b63228419 <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer &lt;API KEY&gt;"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'accepton'</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">AcceptOn</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">api_key: </span><span class="no">API_KEY</span><span class="p">,</span> <span class="ss">environment: :staging</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">token</span><span class="p">(</span><span class="s1">'txn_b43a7e1e51410639979ab2047c156caa'</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">from</span> <span class="nn">accepton</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">API_KEY</span><span class="p">,</span> <span class="n">environment</span><span class="o">=</span><span class="s">'staging'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">token</span><span class="p">(</span><span class="s">'txn_b43a7e1e51410639979ab2047c156caa'</span><span class="p">)</span>
</code></pre>
<pre class="highlight php"><code></code></pre>

<h3 id="sample-response">Sample Response</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"txn_643f20df91f94ff3b6cd614b63228419"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created"</span><span class="p">:</span><span class="s2">"2015-01-16T20:08:17.837Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"application_fee"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Hipster Flannel Tshirt"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="arguments">Arguments</h3>

<div class='object-desc-attr'></div>

<table><thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>id</strong> <br> <em>string, required</em></td>
<td>The unique id of the transaction.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>A Transaction Token object.</p>

<h1 id="charges">Charges</h1>

<p>To charge a customer, you create a charge object using the AcceptOn form.
You can query charges singularly by the id or search through the history of
charges on your account.</p>

<h3 id="the-charge-object">The Charge object</h3>

<div class='object-desc-attr'></div>

<table>
<tr><th>Attribute</th><th>Description</th></tr>
<tr><td><strong>id</strong><br/><em>string</em></td><td>The unique charge identifier.</td></tr>
<tr><td><strong>amount</strong><br/><em>integer</em></td><td>The amount charged in cents.</td></tr>
<tr><td><strong>created</strong><br/><em>datetime</em></td><td>The time the charge was created.</td></tr>
<tr><td><strong>currency</strong><br/><em>string</em></td><td>The currency to charge in ISO format (default: usd).</td></tr>
<tr><td><strong>description</strong><br/><em>string</em></td><td>The description of the charge.</td></tr>
<tr><td><strong>metadata</strong><br/><em>hash</em></td><td>Any metadata associated with the charge.</td></tr>
<tr><td><strong>refunded</strong><br/><em>boolean</em></td><td>Whether the charge has been refunded.</td></tr>
<tr><td><strong>remote_id</strong><br/><em>boolean</em></td><td>The identifier of the charge on the processor.</td></tr>
<tr><td><strong>status</strong><br/><em>string</em></td><td>The status of the charge.</td></tr>
</table>

<div class='api-attr'></div>

<h2 id="retrieve-a-charge">Retrieve a charge</h2>

<p>Used to retrieve the details of a charge has previously been created.</p>

<h3 id="sample-response">Sample Response</h3>
<pre class="highlight shell"><code>curl https://staging-checkout.accepton.com/v1/charges/chg_123 <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer &lt;API KEY&gt;"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'accepton-ruby'</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">AcceptOn</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">api_key: </span><span class="no">API_KEY</span><span class="p">,</span> <span class="ss">environment: :staging</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">charge</span><span class="p">(</span><span class="s1">'chg_123'</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">from</span> <span class="nn">accepton</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">API_KEY</span><span class="p">,</span> <span class="n">environment</span><span class="o">=</span><span class="s">'staging'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">charge</span><span class="p">(</span><span class="s">"chg_123"</span><span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">AcceptOn\Client</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">Client</span><span class="o">.</span><span class="k">new</span><span class="p">(</span><span class="nx">API_KEY</span><span class="p">,</span> <span class="s2">"staging"</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">charge</span><span class="p">(</span><span class="s2">"chg_123"</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<h3 id="arguments">Arguments</h3>

<div class='object-desc-attr'></div>

<table>
<tr><th>Argument</th><th>Description</th></tr>
<tr><td><strong>id</strong><br/><em>string, required</em></td><td>The unique id of the charge.</td></tr>
</table>

<h3 id="returns">Returns</h3>

<p>A Charge object.</p>

<div class='api-attr'></div>

<h2 id="list-previous-charges">List Previous Charges</h2>

<p>Search for previous charges within a data range, sorted by the field you
specify.</p>

<h3 id="sample-request">Sample Request</h3>
<pre class="highlight shell"><code>curl https://staging-checkout.accepton.com/v1/charges <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer &lt;API KEY&gt;"</span> <span class="se">\</span>
  -d <span class="nv">amount</span><span class="o">=</span>1000 <span class="se">\</span>
  -d <span class="nv">start_date</span><span class="o">=</span><span class="s2">"2015-06-01"</span> <span class="se">\</span>
  -d <span class="nv">end_date</span><span class="o">=</span><span class="s2">"2015-07-01"</span> <span class="se">\</span>
  -d <span class="nv">order_by</span><span class="o">=</span><span class="s2">"created_at"</span> <span class="se">\</span>
  -d <span class="nv">order</span><span class="o">=</span><span class="s2">"asc"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'accepton-ruby'</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">AcceptOn</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">api_key: </span><span class="no">API_KEY</span><span class="p">,</span> <span class="ss">environment: :staging</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">charges</span><span class="p">(</span><span class="ss">start_date: </span><span class="s1">'2015-06-01'</span><span class="p">,</span> <span class="ss">end_date: </span><span class="s1">'2015-07-01'</span><span class="p">,</span> <span class="ss">order_by: </span><span class="s1">'created_at'</span><span class="p">,</span> <span class="ss">order: </span><span class="s1">'asc'</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">from</span> <span class="nn">accepton</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">API_KEY</span><span class="p">,</span> <span class="n">environment</span><span class="o">=</span><span class="s">'staging'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">charges</span><span class="p">(</span><span class="n">start_date</span><span class="o">=</span><span class="s">'2015-06-01'</span><span class="p">,</span> <span class="n">end_date</span><span class="o">=</span><span class="s">'2015-07-01'</span><span class="p">,</span> <span class="n">order_by</span><span class="o">=</span><span class="s">'created_at'</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s">'asc'</span><span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="nx">Client</span><span class="o">.</span><span class="k">new</span><span class="p">(</span><span class="nx">API_KEY</span><span class="p">,</span> <span class="s2">"staging"</span><span class="p">);</span>

<span class="nv">$params</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
 <span class="s2">"start_date"</span> <span class="o">=&gt;</span> <span class="s2">"2015-06-01"</span><span class="p">,</span>
 <span class="s2">"end_date"</span> <span class="o">=&gt;</span> <span class="s2">"2015-07-01"</span><span class="p">,</span>
 <span class="s2">"order_by"</span> <span class="o">=&gt;</span> <span class="s2">"created_at"</span><span class="p">,</span>
 <span class="s2">"order"</span> <span class="o">=&gt;</span> <span class="s2">"asc"</span>
<span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">charges</span><span class="p">(</span><span class="nv">$params</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<h3 id="arguments">Arguments</h3>

<div class='object-desc-attr'></div>

<table>
<tr><th>Argument</th><th>Description</th></tr>
<tr><td><strong>amount</strong><br/><em>integer</em></td><td>List any charges with the amount.</td></tr>
<tr><td><strong>start_date</strong><br/><em>string</em></td><td>List any charges created after the date.</td></tr>
<tr><td><strong>end_date</strong><br/><em>string</em></td><td>List any charges created before the date.</td></tr>
<tr><td><strong>order_by</strong><br/><em>string</em></td><td>The name of the attribute to order by.</td></tr>
<tr><td><strong>order</strong><br/><em>string</em></td><td>The ordering of the list (asc, desc).</td></tr>
</table>

<h3 id="returns">Returns</h3>

<p>An array of Charges.</p>

<h1 id="refunds">Refunds</h1>

<p>Refunds allow the reversal of a charge that has not already been fully
refunded. Partial refunds are accepted up to the total amount of the
original charge.</p>

<h3 id="the-refund-object">The Refund object</h3>

<div class='object-desc-attr'></div>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>id</strong> <br> <em>string</em></td>
<td>A unique id.</td>
</tr>
<tr>
<td><strong>amount</strong> <br> <em>integer</em></td>
<td>The amount in cents of the refund.</td>
</tr>
<tr>
<td><strong>created</strong> <br> <em>datetime</em></td>
<td>The time the refund was created, in <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> format.</td>
</tr>
<tr>
<td><strong>currency</strong> <br> <em>string</em></td>
<td>The currency to charge in <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO 4217</a> format (default: usd).</td>
</tr>
<tr>
<td><strong>metadata</strong> <br> <em>hash</em></td>
<td>Any metadata associated with the refund.</td>
</tr>
<tr>
<td><strong>reason</strong> <br> <em>string</em></td>
<td>The reason for the refund.</td>
</tr>
</tbody></table>

<div class='api-attr'></div>

<h2 id="create-a-refund">Create a Refund</h2>

<h3 id="sample-request">Sample Request</h3>
<pre class="highlight shell"><code>curl https://staging-checkout.accepton.com/v1/refunds <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer &lt;API KEY&gt;"</span> <span class="se">\</span>
  -d <span class="nv">amount</span><span class="o">=</span>1000 <span class="se">\</span>
  -d <span class="nv">charge_id</span><span class="o">=</span><span class="s2">"chg_123"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'accepton'</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">AcceptOn</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">api_key: </span><span class="no">API_KEY</span><span class="p">,</span> <span class="ss">environment: :staging</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">refund</span><span class="p">(</span><span class="ss">amount: </span><span class="mi">10_00</span><span class="p">,</span> <span class="ss">charge_id: </span><span class="s2">"chg_123"</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">from</span> <span class="nn">accepton</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">API_KEY</span><span class="p">,</span> <span class="n">environment</span><span class="o">=</span><span class="s">'staging'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">refund</span><span class="p">(</span><span class="n">amount</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">charge_id</span><span class="o">=</span><span class="s">"chg_123"</span><span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">AcceptOn\Client</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">Client</span><span class="o">.</span><span class="k">new</span><span class="p">(</span><span class="nx">API_KEY</span><span class="p">,</span> <span class="s2">"staging"</span><span class="p">);</span>

<span class="nv">$params</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
 <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span>
 <span class="s2">"charge_id"</span> <span class="o">=&gt;</span> <span class="s2">"chg_123"</span>
<span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">charges</span><span class="p">(</span><span class="nv">$params</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<h3 id="sample-response">Sample Response</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ref_123"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-16T22:45:18.357Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"requested_by_customer"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="arguments">Arguments</h3>

<div class='object-desc-attr'></div>

<table><thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>amount</strong> <br> <em>integer, required</em></td>
<td>The amount in cents to refund.</td>
</tr>
<tr>
<td><strong>charge_id</strong> <br> <em>string, required</em></td>
<td>The id of the charge to associate with the refund.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>A Refund object.</p>

<h1 id="plans">Plans</h1>

<p>Plans are objects containing pricing information for a recurring product(s) (usually a service).
An example of a plan is a monthly gym membership named Bronze for $25/month.</p>

<h3 id="the-plan-object">The Plan object</h3>

<div class='object-desc-attr'></div>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>id</strong> <br> <em>string</em></td>
<td>The unique id of the plan.</td>
</tr>
<tr>
<td><strong>created_at</strong> <br> <em>datetime</em></td>
<td>The time the plan was created, in <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> format.</td>
</tr>
<tr>
<td><strong>name</strong> <br> <em>string</em></td>
<td>The plan that you give your customers.</td>
</tr>
<tr>
<td><strong>amount</strong> <br> <em>integer</em></td>
<td>The amount in cents to be charged for the plan.</td>
</tr>
<tr>
<td><strong>currency</strong> <br> <em>string</em></td>
<td>The currency to charge in <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO 4217</a> format (default: usd).</td>
</tr>
<tr>
<td><strong>period_unit</strong> <br> <em>string</em></td>
<td>The unit of frequency of charge to be made (month or year).</td>
</tr>
</tbody></table>

<div class='api-attr'></div>

<h2 id="create-a-plan">Create a Plan</h2>

<h3 id="sample-request">Sample Request</h3>
<pre class="highlight shell"><code>curl https://staging-checkout.accepton.com/v1/plans <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer &lt;API KEY&gt;"</span> <span class="se">\</span>
  -d <span class="nv">name</span><span class="o">=</span><span class="s2">"Test Plan"</span> <span class="se">\</span>
  -d <span class="nv">amount</span><span class="o">=</span>1000 <span class="se">\</span>
  -d <span class="nv">currency</span><span class="o">=</span><span class="s2">"usd"</span> <span class="se">\</span>
  -d <span class="nv">period_unit</span><span class="o">=</span><span class="s2">"month"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'accepton'</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">AcceptOn</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">api_key: </span><span class="no">API_KEY</span><span class="p">,</span> <span class="ss">environment: :staging</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">create_plan</span><span class="p">(</span><span class="ss">name: </span><span class="s1">'Test Plan'</span><span class="p">,</span> <span class="ss">amount: </span><span class="mi">1000</span><span class="p">,</span> <span class="ss">currency: </span><span class="s1">'usd'</span><span class="p">,</span> <span class="ss">period_unit: </span><span class="s1">'month'</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">from</span> <span class="nn">accepton</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">API_KEY</span><span class="p">,</span> <span class="n">environment</span><span class="o">=</span><span class="s">"staging"</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">create_plan</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">"Test Plan"</span><span class="p">,</span> <span class="n">amount</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">currency</span><span class="o">=</span><span class="s">"usd"</span><span class="p">,</span> <span class="n">period_unit</span><span class="o">=</span><span class="s">"month"</span><span class="p">)</span>
</code></pre>

<h3 id="sample-response">Sample Response</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plan"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pln_123"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-21T20:20:14.690+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Plan"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"period_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="arguments">Arguments</h3>

<div class='object-desc-attr'></div>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong> <br> <em>string, required</em></td>
<td>The name of the plan.</td>
</tr>
<tr>
<td><strong>amount</strong> <br> <em>string, required</em></td>
<td>The amount to be charged in cents.</td>
</tr>
<tr>
<td><strong>currency</strong> <br> <em>string</em></td>
<td>The currency to charge in <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO 4217</a> format (default: usd).</td>
</tr>
<tr>
<td><strong>period_unit</strong> <br> <em>string, required</em></td>
<td>The unit of frequency of charge to be made (month or year).</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>A Plan object.</p>

<div class='api-attr'></div>

<h2 id="retrieve-a-plan">Retrieve a Plan</h2>

<h3 id="sample-request">Sample Request</h3>
<pre class="highlight shell"><code>curl https://staging-checkout.accepton.com/v1/plans/pln_123 <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer &lt;API KEY&gt;"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'accepton'</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">AcceptOn</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">api_key: </span><span class="no">API_KEY</span><span class="p">,</span> <span class="ss">environment: :staging</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">plan</span><span class="p">(</span><span class="s1">'pln_123'</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">from</span> <span class="nn">accepton</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">API_KEY</span><span class="p">,</span> <span class="n">environment</span><span class="o">=</span><span class="s">"staging"</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">plan</span><span class="p">(</span><span class="s">"pln_123"</span><span class="p">)</span>
</code></pre>

<h3 id="sample-response">Sample Response</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plan"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pln_123"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-21T20:20:14.690+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Plan"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"period_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="arguments">Arguments</h3>

<div class='object-desc-attr'></div>

<table><thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>id</strong> <br> <em>string, required</em></td>
<td>The unique id of the plan.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>A Plan object.</p>

<div class='api-attr'></div>

<h2 id="list-plans">List Plans</h2>

<h3 id="sample-request">Sample Request</h3>
<pre class="highlight shell"><code>curl https://staging-checkout.accepton.com/v1/plans <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer &lt;API KEY&gt;"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'accepton'</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">AcceptOn</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">api_key: </span><span class="no">API_KEY</span><span class="p">,</span> <span class="ss">environment: :staging</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">plans</span>
</code></pre>

<h3 id="sample-response">Sample Response</h3>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plan"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pln_123"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-21T20:20:14.690+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usd"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Plan"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"period_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="returns">Returns</h3>

<p>An array of Plans.</p>

<h1 id="subscriptions">Subscriptions</h1>

<p>Subscriptions are recurring payments for a service or product from a customer for certain period of time. Subscriptions are associated to a Plan object.</p>

<h3 id="the-subscription-object">The Subscription object</h3>

<div class='object-desc-attr'></div>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>id</strong> <br> <em>string</em></td>
<td>The unique id of the subscription.</td>
</tr>
<tr>
<td><strong>last_billed_at</strong> <br> <em>datetime</em></td>
<td>The last time the subscription was charged, in <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> format.</td>
</tr>
<tr>
<td><strong>email</strong> <br> <em>string</em></td>
<td>The email address associated with the subscription.</td>
</tr>
<tr>
<td><strong>active</strong> <br> <em>boolean</em></td>
<td>The activity status of the subscription.</td>
</tr>
<tr>
<td><strong>plan</strong> <br> <em>hash</em></td>
<td>The plan associated with the subscription.</td>
</tr>
</tbody></table>

<div class='api-attr'></div>

<h2 id="cancel-a-subscription">Cancel a Subscription</h2>

<h3 id="sample-request">Sample Request</h3>
<pre class="highlight shell"><code>curl https://staging-checkout.accepton.com/v1/subscriptions/sub_123/cancel <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer &lt;API KEY&gt;"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'accepton'</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">AcceptOn</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">api_key: </span><span class="no">API_KEY</span><span class="p">,</span> <span class="ss">environment: :staging</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">cancel_subscription</span><span class="p">(</span><span class="s1">'sub_123'</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">from</span> <span class="nn">accepton</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">API_KEY</span><span class="p">,</span> <span class="n">environment</span><span class="o">=</span><span class="s">"staging"</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">plans</span><span class="p">()</span>
</code></pre>

<h3 id="sample-response">Sample Response</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscription"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub_123"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mycustomer@email.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_billed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-21T22:43:34.096+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plan"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pln_965d6898b660d85b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-21T20:20:14.690Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usd"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Plan"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"period_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="arguments">Arguments</h3>

<div class='object-desc-attr'></div>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>id</strong> <br> <em>string, required</em></td>
<td>The unique id of the subscription.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>A Subscription object.</p>

<div class='api-attr'></div>

<h2 id="retrieve-a-subscription">Retrieve a Subscription</h2>

<h3 id="sample-request">Sample Request</h3>
<pre class="highlight shell"><code>curl https://staging-checkout.accepton.com/v1/subscriptions/sub_123 <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer &lt;API KEY&gt;"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'accepton'</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">AcceptOn</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">api_key: </span><span class="no">API_KEY</span><span class="p">,</span> <span class="ss">environment: :staging</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">subscription</span><span class="p">(</span><span class="s1">'sub_123'</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">from</span> <span class="nn">accepton</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">API_KEY</span><span class="p">,</span> <span class="n">environment</span><span class="o">=</span><span class="s">"staging"</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">subscription</span><span class="p">(</span><span class="s">"sub_123"</span><span class="p">)</span>
</code></pre>

<h3 id="sample-response">Sample Response</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscription"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub_123"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mycustomer@email.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_billed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-21T22:43:34.096+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plan"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pln_965d6898b660d85b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-21T20:20:14.690Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usd"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Plan"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"period_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="arguments">Arguments</h3>

<div class='object-desc-attr'></div>

<table><thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>id</strong> <br> <em>string, required</em></td>
<td>The unique id of the subscription.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>A Subscription object.</p>

<div class='api-attr'></div>

<h2 id="list-subscriptions">List Subscriptions</h2>

<h3 id="sample-request">Sample Request</h3>
<pre class="highlight shell"><code>curl https://staging-checkout.accepton.com/v1/subscriptions <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer &lt;API KEY&gt;"</span> <span class="se">\</span>
  -d <span class="nv">page</span><span class="o">=</span>1 <span class="se">\</span>
  -d <span class="nv">per_page</span><span class="o">=</span>20 <span class="se">\</span>
  -d <span class="nv">active</span><span class="o">=</span><span class="s2">"true"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'accepton'</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">AcceptOn</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">api_key: </span><span class="no">API_KEY</span><span class="p">,</span> <span class="ss">environment: :staging</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">subscriptions</span><span class="p">(</span><span class="ss">page: </span><span class="mi">1</span><span class="p">,</span> <span class="ss">per_page: </span><span class="mi">20</span><span class="p">,</span> <span class="ss">active: </span><span class="kp">true</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">from</span> <span class="nn">accepton</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">API_KEY</span><span class="p">,</span> <span class="n">environment</span><span class="o">=</span><span class="s">"staging"</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">subscriptions</span><span class="p">(</span><span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">per_page</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">active</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre>

<h3 id="sample-response">Sample Response</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"list"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscription"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub_123"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mycustomer@email.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_billed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-21T22:43:34.096+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plan"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pln_965d6898b660d85b"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-21T20:20:14.690Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usd"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Plan"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"period_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="arguments">Arguments</h3>

<div class='object-desc-attr'></div>

<table><thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>order_by</strong> <br> <em>string</em></td>
<td>The name of the attribute to order by.</td>
</tr>
<tr>
<td><strong>order</strong> <br> <em>string</em></td>
<td>The ordering of the list (asc, desc).</td>
</tr>
<tr>
<td><strong>page</strong> <br> <em>integer</em></td>
<td>The page number to retrieve.</td>
</tr>
<tr>
<td><strong>per_page</strong> <br> <em>integer</em></td>
<td>The size of the page to retrieve (max: 100).</td>
</tr>
<tr>
<td><strong>active</strong> <br> <em>boolean</em></td>
<td>The activity status to filter by.</td>
</tr>
<tr>
<td><strong>plan.token</strong> <br> <em>string</em></td>
<td>The plan id to filter by.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>An array of Subscriptions.</p>

<h1 id="promo-codes">Promo Codes</h1>

<p>Promo codes allow you to create a code that offers a discount to your
customers. When they are checking out, they will be offered the option on the
form to enter a promo code, which you can give to them in marketing materials.</p>

<h3 id="the-promo-code-object">The Promo Code object</h3>

<div class='object-desc-attr'></div>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>created_at</strong> <br> <em>datetime</em></td>
<td>The time the promo code was created, in <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> format.</td>
</tr>
<tr>
<td><strong>name</strong> <br> <em>string</em></td>
<td>The promo code that you give your customers.</td>
</tr>
<tr>
<td><strong>promo_type</strong> <br> <em>string</em></td>
<td>The type of promotion. One of: &ldquo;amount&rdquo; (for amount off purchase), &ldquo;fixed_price&rdquo; (to set a transaction price, i.e. of $5.00), or &ldquo;percentage&rdquo; (for percent off purchase).</td>
</tr>
<tr>
<td><strong>value</strong> <br> <em>float or integer</em></td>
<td>The value of the promotion. For an &ldquo;amount&rdquo; or &ldquo;fixed_price&rdquo; type, the amount in cents (i.e. 1000 is $10.00). For a &ldquo;percentage&rdquo; type, the percent off as a decimal (i.e. 10.0 is 10%).</td>
</tr>
</tbody></table>

<div class='api-attr'></div>

<h2 id="create-a-promo-code">Create a Promo Code</h2>

<h3 id="sample-request">Sample Request</h3>
<pre class="highlight shell"><code>curl https://staging-checkout.accepton.com/v1/promo_codes <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer &lt;API KEY&gt;"</span> <span class="se">\</span>
  -d <span class="nv">name</span><span class="o">=</span><span class="s2">"20OFF"</span> <span class="se">\</span>
  -d <span class="nv">promo_type</span><span class="o">=</span><span class="s2">"amount"</span> <span class="se">\</span>
  -d <span class="nv">value</span><span class="o">=</span>2000
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'accepton'</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">AcceptOn</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">api_key: </span><span class="no">API_KEY</span><span class="p">,</span> <span class="ss">environment: :staging</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">create_promo_code</span><span class="p">(</span><span class="ss">name: </span><span class="s1">'20OFF'</span><span class="p">,</span> <span class="ss">promo_type: </span><span class="s1">'amount'</span><span class="p">,</span> <span class="ss">value: </span><span class="mi">20_00</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">from</span> <span class="nn">accepton</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">API_KEY</span><span class="p">,</span> <span class="n">environment</span><span class="o">=</span><span class="s">'staging'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">create_promo_code</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">"20OFF"</span><span class="p">,</span> <span class="n">promo_type</span><span class="o">=</span><span class="s">"amount"</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">2000</span><span class="p">)</span>
</code></pre>
<pre class="highlight php"><code></code></pre>

<h3 id="sample-response">Sample Response</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"promo_code"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-16T22:47:29.591+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20OFF"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"promo_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amount"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="arguments">Arguments</h3>

<div class='object-desc-attr'></div>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong> <br> <em>string</em></td>
<td>The promo code that you give your customers.</td>
</tr>
<tr>
<td><strong>promo_type</strong> <br> <em>string</em></td>
<td>The type of promotion. One of: &ldquo;amount&rdquo; (for amount off purchase), &ldquo;fixed_price&rdquo; (to set a transaction price, i.e. of $5.00), or &ldquo;percentage&rdquo; (for percent off purchase).</td>
</tr>
<tr>
<td><strong>value</strong> <br> <em>float or integer</em></td>
<td>The value of the promotion. For an &ldquo;amount&rdquo; or &ldquo;fixed_price&rdquo; type, the amount in cents (i.e. 1000 is $10.00). For a &ldquo;percentage&rdquo; type, the percent off as a decimal (i.e. 10.0 is 10%).</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>A Promo Code object.</p>

<div class='api-attr'></div>

<h2 id="retrieve-a-promo-code">Retrieve a Promo Code</h2>

<h3 id="sample-request">Sample Request</h3>
<pre class="highlight shell"><code>curl https://staging-checkout.accepton.com/v1/promo_codes/20OFF <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer &lt;API KEY&gt;"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'accepton'</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">AcceptOn</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">api_key: </span><span class="no">API_KEY</span><span class="p">,</span> <span class="ss">environment: :staging</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">promo_code</span><span class="p">(</span><span class="s1">'20OFF'</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">from</span> <span class="nn">accepton</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">API_KEY</span><span class="p">,</span> <span class="n">environment</span><span class="o">=</span><span class="s">'staging'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">promo_code</span><span class="p">(</span><span class="s">"20OFF"</span><span class="p">)</span>
</code></pre>
<pre class="highlight php"><code></code></pre>

<h3 id="sample-response">Sample Response</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"promo_code"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-16T22:47:29.591+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20OFF"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"promo_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amount"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="arguments">Arguments</h3>

<div class='object-desc-attr'></div>

<table><thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong> <br> <em>string, required</em></td>
<td>The name of the promo code.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>A Promo Code object.</p>

<div class='api-attr'></div>

<h2 id="list-promo-codes">List Promo Codes</h2>

<h3 id="sample-request">Sample Request</h3>
<pre class="highlight shell"><code>curl https://staging-checkout.accepton.com/v1/promo_codes <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer &lt;API KEY&gt;"</span> <span class="se">\</span>
  -d <span class="nv">page</span><span class="o">=</span>1 <span class="se">\</span>
  -d <span class="nv">per_page</span><span class="o">=</span>20 <span class="se">\</span>
  -d <span class="nv">promo_type</span><span class="o">=</span><span class="s2">"amount"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'accepton'</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">AcceptOn</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">api_key: </span><span class="no">API_KEY</span><span class="p">,</span> <span class="ss">environment: :staging</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">promo_codes</span><span class="p">(</span><span class="ss">page: </span><span class="mi">1</span><span class="p">,</span> <span class="ss">per_page: </span><span class="mi">20</span><span class="p">,</span> <span class="ss">promo_type: </span><span class="s1">'amount'</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">from</span> <span class="nn">accepton</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">API_KEY</span><span class="p">,</span> <span class="n">environment</span><span class="o">=</span><span class="s">'staging'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">promo_codes</span><span class="p">(</span><span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">per_page</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">promo_type</span><span class="o">=</span><span class="s">'amount'</span><span class="p">)</span>
</code></pre>
<pre class="highlight php"><code></code></pre>

<h3 id="sample-response">Sample Response</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"list"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"promo_code"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-09-08T21:32:56.164+00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30OFF"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"promo_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amount"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"promo_code"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-16T22:47:29.591+00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20OFF"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"promo_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amount"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="arguments">Arguments</h3>

<div class='object-desc-attr'></div>

<table><thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>order_by</strong> <br> <em>string</em></td>
<td>The name of the attribute to order by.</td>
</tr>
<tr>
<td><strong>order</strong> <br> <em>string</em></td>
<td>The ordering of the list (asc, desc).</td>
</tr>
<tr>
<td><strong>page</strong> <br> <em>integer</em></td>
<td>The page number to retrieve.</td>
</tr>
<tr>
<td><strong>per_page</strong> <br> <em>integer</em></td>
<td>The size of the page to retrieve (max: 100).</td>
</tr>
<tr>
<td><strong>promo_type</strong> <br> <em>string</em></td>
<td>The type of promo code to filter by.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>An array of Promo Codes.</p>

<div class='api-attr'></div>

<h2 id="update-a-promo-code">Update a Promo Code</h2>

<h3 id="sample-request">Sample Request</h3>
<pre class="highlight shell"><code>curl https://staging-checkout.accepton.com/v1/promo_codes/20OFF <span class="se">\</span>
  -X PUT <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer &lt;API KEY&gt;"</span> <span class="se">\</span>
  -d <span class="nv">name</span><span class="o">=</span><span class="s2">"21OFF"</span> <span class="se">\</span>
  -d <span class="nv">promo_type</span><span class="o">=</span><span class="s2">"amount"</span> <span class="se">\</span>
  -d <span class="nv">value</span><span class="o">=</span>2100
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'accepton'</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">AcceptOn</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">api_key: </span><span class="no">API_KEY</span><span class="p">,</span> <span class="ss">environment: :staging</span><span class="p">)</span>
<span class="n">promo_code</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">promo_code</span><span class="p">(</span><span class="s1">'20OFF'</span><span class="p">)</span>
<span class="n">promo_code</span><span class="p">.</span><span class="nf">name</span> <span class="o">=</span> <span class="s1">'21OFF'</span>
<span class="n">promo_code</span><span class="p">.</span><span class="nf">value</span> <span class="o">=</span> <span class="mi">21_00</span>
<span class="n">promo_code</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">update_promo_code</span><span class="p">(</span><span class="n">promo_code</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">from</span> <span class="nn">accepton</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">API_KEY</span><span class="p">,</span> <span class="n">environment</span><span class="o">=</span><span class="s">'staging'</span><span class="p">)</span>
<span class="n">promo_code</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">promo_code</span><span class="p">(</span><span class="s">"20OFF"</span><span class="p">)</span>
<span class="n">promo_code</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">"21OFF"</span>
<span class="n">promo_code</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">2100</span>
<span class="n">promo_code</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">update_promo_code</span><span class="p">(</span><span class="n">promo_code</span><span class="p">)</span>
</code></pre>
<pre class="highlight php"><code></code></pre>

<h3 id="sample-response">Sample Response</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"promo_code"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-16T22:47:29.591+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21OFF"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"promo_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amount"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">2100</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="arguments">Arguments</h3>

<div class='object-desc-attr'></div>

<table><thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong> <br> <em>string</em></td>
<td>The new promo code that you give your customers.</td>
</tr>
<tr>
<td><strong>promo_type</strong> <br> <em>string</em></td>
<td>The new type of promotion. One of: &ldquo;amount&rdquo; (for amount off purchase), &ldquo;fixed_price&rdquo; (to set a transaction price, i.e. of $5.00), or &ldquo;percentage&rdquo; (for percent off purchase).</td>
</tr>
<tr>
<td><strong>value</strong> <br> <em>float or integer</em></td>
<td>The new value of the promotion. For an &ldquo;amount&rdquo; or &ldquo;fixed_price&rdquo; type, the amount in cents (i.e. 1000 is $10.00). For a &ldquo;percentage&rdquo; type, the percent off as a decimal (i.e. 10.0 is 10%).</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The updated Promo Code object.</p>

<div class='api-attr'></div>

<h2 id="delete-a-promo-code">Delete a Promo Code</h2>

<h3 id="sample-request">Sample Request</h3>
<pre class="highlight shell"><code>curl https://staging-checkout.accepton.com/v1/promo_codes/20OFF <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer &lt;API KEY&gt;"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'accepton'</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">AcceptOn</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">api_key: </span><span class="no">API_KEY</span><span class="p">,</span> <span class="ss">environment: :staging</span><span class="p">)</span>
<span class="n">promo_code</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">promo_code</span><span class="p">(</span><span class="s1">'20OFF'</span><span class="p">)</span>
<span class="n">deleted</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">delete_promo_code</span><span class="p">(</span><span class="n">promo_code</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">from</span> <span class="nn">accepton</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">API_KEY</span><span class="p">,</span> <span class="n">environment</span><span class="o">=</span><span class="s">'staging'</span><span class="p">)</span>
<span class="n">promo_code</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">promo_code</span><span class="p">(</span><span class="s">"20OFF"</span><span class="p">)</span>
<span class="n">deleted</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">delete_promo_code</span><span class="p">(</span><span class="n">promo_code</span><span class="p">)</span>
</code></pre>
<pre class="highlight php"><code></code></pre>

<h3 id="example-response">Example Response</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"promo_code"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-16T22:47:29.591+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20OFF"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"promo_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amount"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="arguments">Arguments</h3>

<div class='object-desc-attr'></div>

<table><thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong> <br> <em>string</em></td>
<td>The name of the promo code that you want to delete.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The deleted Promo Code object.</p>

            <h1 id="errors">Errors</h1>

<p>The AcceptOn API uses the following error codes:</p>

<div class='object-desc-attr'></div>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified resource could not be found.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

            <h1 id="support">Support</h1>

<p>Please contact support@accepton.com with any questions or problems.</p>

        </div>
        <div class="dark-box">
            <div class="lang-selector">
                  <a href="#" data-language-name="shell">shell</a>
                  <a href="#" data-language-name="ruby">ruby</a>
                  <a href="#" data-language-name="python">python</a>
                  <a href="#" data-language-name="php">php</a>
            </div>
        </div>
      </div>
    </div>
  </body>
</html>
